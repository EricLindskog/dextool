#include "stub_class_nested.hpp"

namespace StubInternalOuterClass {
void StubInit(StubStubDtor* value) {
    char* d = reinterpret_cast<char*>(value);
    char* end = d + sizeof(StubStubDtor);
    for (; d != end; ++d) {
        *d = 0;
    }
}

StubStubData::StubStubData() {
    StubInit(&stub_StubDtor);
}

StubStubData::~StubStubData() {
}

StubInternalOuterClass::StubStubDtor& StubStubData::StubDtor() {
    return stub_StubDtor;
}

} //NS:StubInternalOuterClass

StubOuterClass::StubOuterClass() {
}

StubOuterClass::~StubOuterClass() {
    Stub_data.StubDtor().call_counter++;

    if (Stub_data.StubDtor().callback != 0) {
        Stub_data.StubDtor().callback->StubDtor();
    }
}

StubInternalOuterClass::StubStubData& StubOuterClass::StubGet() {
    return Stub_data;
}

namespace StubInternalInnerClass {
void StubInit(StubStubDtor* value) {
    char* d = reinterpret_cast<char*>(value);
    char* end = d + sizeof(StubStubDtor);
    for (; d != end; ++d) {
        *d = 0;
    }
}

StubStubData::StubStubData() {
    StubInit(&stub_StubDtor);
}

StubStubData::~StubStubData() {
}

StubInternalInnerClass::StubStubDtor& StubStubData::StubDtor() {
    return stub_StubDtor;
}

} //NS:StubInternalInnerClass

StubInnerClass::StubInnerClass() {
}

StubInnerClass::~StubInnerClass() {
    Stub_data.StubDtor().call_counter++;

    if (Stub_data.StubDtor().callback != 0) {
        Stub_data.StubDtor().callback->StubDtor();
    }
}

StubInternalInnerClass::StubStubData& StubInnerClass::StubGet() {
    return Stub_data;
}

